#include <LiquidCrystal.h>
#include <DHT.h>

// --- LCD WIRING DEFINITION ---
const int rs = 12;
const int en = 11;
const int d4 = 5;
const int d5 = 4;
const int d6 = 3;
const int d7 = 2;
LiquidCrystal lcd(rs, en, d4, d5, d6, d7);

// --- DHT11 DEFINITION ---
#define DHTPIN A1        // DHT signal pin connected to Analog pin A1
#define DHTTYPE DHT11
DHT dht(DHTPIN, DHTTYPE);

void setup() {
  lcd.begin(16, 2);
  dht.begin();
  lcd.print("DHT11 Starting...");
  delay(2000);
  lcd.clear();
}

void loop() {
  // Wait 3 seconds between measurements for DHT11 stability
  delay(3000);

  float h = dht.readHumidity();
  float t = dht.readTemperature();

  if (isnan(h) || isnan(t)) {
    lcd.setCursor(0, 0);
    lcd.print("Failed to read!");
    return;
  }

  // Display Temperature on Row 0
  lcd.setCursor(0, 0);
  lcd.print("Temp: ");
  lcd.print(t);
  lcd.write(0b11011111); // Degree symbol
  lcd.print("C   ");

  // Display Humidity on Row 1
  lcd.setCursor(0, 1);
  lcd.print("Humi: ");
  lcd.print(h);
  lcd.print(" %    ");
}
